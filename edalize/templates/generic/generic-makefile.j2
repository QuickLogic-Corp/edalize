#Auto generated by Edalize
SHELL = bash

BASE_DIR  := {{ base_dir }}
TOOL  := {{ tool }}
FLAGS := {{ flags }}
TOP	:= {{ top }}
ENV_VARS        := {{ env_vars }}
VERILOG_FILES   := {{ verilog_files }}
SVERILOG_FILES  := {{ sverilog_files }}
TCL_FILES       := {{ tcl_files }}
INCDIRS := {{ incdirs }}
PARTNAME:= {{ partname }}
DEVICE  := {{ part }}_{{ device_suffix }}
BITSTREAM_DEVICE := {{ bitstream_device }}
SDC	:= {{ sdc }}
PCF	:= {{ pcf }}
XDC	:= {{ xdc }}
TOOLCHAIN_PREFIX := {{ toolchain_prefix }}
{% if vendor == "xilinx" -%}
PARTNAME_OPT = -p "{{ partname }}"
{% else %}
PARTNAME_OPT = -P "{{ partname }}"
{%- endif %}

{% if vpr_options -%}
VPR_OPTIONS_OPTS = --additional_vpr_options "{{ vpr_options }}"
{%- endif %}

{% if pcf -%}
PCF_OPTS = -p ${PCF}
{%- endif %}

{% if xdc -%}
XDC_OPTS = -x ${XDC}
{%- endif %}

{% if sdc -%}
SDC_OPTS = -s ${SDC}
{%- endif %}

all:
			(${ENV_VARS} ${TOOL} ${FLAGS} ${INCDIRS} ${VERILOG_FILES} ${SVERILOG_FILES} ${TCL_FILES}) 2>&1 | tee make.log


clean:
	$(EDALIZE_LAUNCHER) rm -rf *.log *.rpt *.place *.bit *.eblif *.fasm *.json *.ioplace *.net *.route

